# Web-API 项目使用指南
## 一、项目简介
Web-API 是一个基于 Node.js 和 Express 构建的任务管理应用，提供用户认证、任务管理、提醒设置等功能。通过直观的界面，用户可以轻松创建、组织和跟踪个人任务。

## 二、环境准备
### 1. 前提条件
- Node.js (v14+) 和 npm
- 现代浏览器 (Chrome, Firefox, Edge 等)
- Supabase 账户 (用于数据库)
### 2. 安装步骤
```
# 克隆仓库
git clone <项目地址>
cd Web-API

# 安装依赖
npm install

# 配置环境变量
# 创建 .env 文件并添加以下内容:
# PORT=5000
# SUPABASE_URL=<你的Supabase URL>
# SUPABASE_KEY=<你的Supabase密钥>
# JWT_SECRET=<你的JWT密钥>

# 启动服务器
npm start
```
## 三、用户认证
### 1. 注册账户
1. 1.
   访问 http://localhost:5000
2. 2.
   点击注册选项卡
3. 3.
   填写必要信息:
   - 用户名
   - 电子邮箱
   - 密码 (至少6位)
4. 4.
   点击"注册"按钮
5. 5.
   自动跳转至登录页面
### 2. 登录系统
1. 1.
   在登录页面输入注册时使用的邮箱和密码
2. 2.
   点击"登录"按钮
3. 3.
   成功登录后自动跳转至任务管理页面
### 3. 退出登录
点击页面左侧边栏底部的"退出登录"按钮

## 四、任务管理
### 1. 查看任务
- 登录后默认显示所有任务
- 通过左侧分类栏切换不同类型的任务视图:
  - 无标签: 未添加任何标签的任务
  - 星标: 标记为重要的任务
  - 今日截止: 今天到期的任务
  - 已归档: 已完成的任务
  - 个人/工作/重要: 按标签分类的任务
### 2. 创建任务
1. 1.
   点击左侧边栏的"+ 添加任务"按钮
2. 2.
   在弹出的表单中填写任务信息:
   - 任务标题 *: 必填项
   - 优先级: 极低/低/中/高/极高 (默认为中)
   - 星标任务: 勾选后标记为重要任务
   - 标签: 可多选 (个人/工作/重要)
   - 开始时间: 默认当前时间
   - 截止时间: 可选
   - 备注: 任务的详细描述
3. 3.
   点击"保存任务"按钮
### 3. 编辑任务
1. 1.
   在任务列表中找到需要编辑的任务
2. 2.
   点击任务右侧的"编辑"按钮
3. 3.
   在弹出的表单中修改任务信息
4. 4.
   点击"保存任务"按钮
### 4. 完成任务
1. 1.
   点击任务左侧的复选框
2. 2.
   任务将自动标记为已完成并移至"已归档"分类
3. 3.
   再次点击复选框可取消完成状态
### 5. 删除任务
1. 1.
   在任务列表中找到需要删除的任务
2. 2.
   点击任务右侧的"删除"按钮
3. 3.
   在确认对话框中点击"确定"
## 五、提醒设置
### 1. 配置提醒时间
1. 1.
   在任务列表页面右上角找到"提醒时间"下拉菜单
2. 2.
   选择合适的提前提醒时间:
   - 15分钟/30分钟/1小时/2小时/4小时/8小时/12小时/24小时
3. 3.
   系统将自动保存选择的提醒时间
### 2. 通知权限
- 首次使用时，浏览器会请求通知权限，请点击"允许"
- 任务到期前，系统将通过浏览器发送通知提醒
- 如果拒绝权限，将无法接收通知提醒
## 六、任务分类与筛选
### 1. 标签分类
- 创建任务时可选择一个或多个标签 (个人/工作/重要)
- 在左侧分类栏点击相应标签查看对应任务
### 2. 状态筛选
- 任务自动分为不同状态: 未开始/进行中/已结束/已完成
- 可通过任务列表中的状态标识快速识别
### 3. 星标任务
- 创建任务时勾选"星标任务"选项
- 或编辑现有任务添加星标
- 星标任务会显示★标记并可在"星标"分类中查看
## 七、常见问题
### 1. 无法登录
- 检查邮箱和密码是否正确
- 确认服务器是否正常运行
- 清除浏览器缓存后重试
### 2. 收不到提醒通知
- 检查浏览器通知权限是否已允许
- 确认系统提醒时间设置
- 检查任务是否设置了截止时间
### 3. 任务无法保存
- 确保已填写必填字段 (任务标题)
- 检查网络连接
- 确认服务器和数据库是否正常连接
## 八、功能快捷键
- 添加任务 : Ctrl + N
- 搜索任务 : Ctrl + F
- 标记完成 : 点击任务前的复选框
- 删除任务 : 点击任务右侧的删除按钮
## 九、高级设置
### 1. 修改服务器端口
编辑 .env 文件中的 PORT 变量

### 2. 调整提醒检查频率
修改 todolist.js 中的定时器间隔 (默认每分钟检查一次)

```
// 修改此行代码调整检查频率 (单位: 毫秒)
this.checkDeadlineInterval = 
setInterval(() => { ... }, 60000);
```
## 十、故障排除
### 1. 服务器启动失败
- 检查端口是否被占用
- 确认环境变量配置正确
- 检查依赖包是否安装完整
### 2. 数据库连接错误
- 验证 Supabase URL 和密钥
- 检查网络连接
- 确认数据库表结构是否正确
### 3. 前端界面异常
- 清除浏览器缓存
- 检查浏览器控制台错误信息
- 确认 todolist.js 文件是否加载成功